# 计算器思路

## 一、保证输入的没有奇怪东西

>* 键盘输入的必须是数字 / 加减乘除 / 括号 / 小数点
>  * （题外话：寻找丢失的正则表达式）
>
>---



## 二、计算

>* 采用**边压边弹**的方式
>
>* 计算思路是，先计算完括号，把**括号式子**用**计算结果**替代，得到一条只有加减乘除的式子
>
>* 然后再处理剩下的加减乘除
>
>  ```
>                  //先把这个算式看作(1) + ( 3 * 2  ) / (5) -...
>                  //然后把每个左右括号单独分割出来
>                  //把里边的纯加减乘除式子的值计算出来，变成数字，替换原来的括号部分 
>  
>              	// 获得符号栈顶的符号 
>                  char op = popOp(&ops);
>                  
>                  // 获得数值栈顶的数字b 
>                  double b = popNum(&values);
>                  
>                  // 获得数字栈顶的数字a 
>                  double a = popNum(&values);
>                  
>                  // 将计算后的a、b重新压入栈 （因为是倒过来的，所以a应该在前，b在后） 
>                  pushNum(&values, applyOp(a, b, op));
>  ```
>
>---